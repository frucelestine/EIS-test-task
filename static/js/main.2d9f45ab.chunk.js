(this["webpackJsonpeis-task"]=this["webpackJsonpeis-task"]||[]).push([[0],{45:function(e,t,a){e.exports=a(72)},50:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(10),l=a.n(i),o=(a(50),a(13)),c=a(88),s=a(18),d=a(19),u=a(9),p=a(23),m=a(22),h=a(89),g=a(35),b=a.n(g).a.create({baseURL:"https://testtask-689db.firebaseio.com/"}),y=a(41),f=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={name:"Product XYZXXX",image:"",prev:"",price:"1$",quantity:"1",color:"white",anchorEl:null,display:"none"},e.handleClick=function(e){document.getElementById("hiddenFileInput").click()},e.handleImage=function(t){t.target.files[0]&&(e.setState({display:"block"}),e.setState({image:t.target.files[0]}),e.setState({prev:URL.createObjectURL(t.target.files[0])}))},e.handleDrop=function(t){t&&(e.setState({display:"block"}),e.setState({image:t}),e.setState({prev:URL.createObjectURL(t[0])}))},e.handleForm=function(t){e.setState({anchorEl:t.currentTarget})},e.handleClose=function(){e.setState({display:"none"})},e.handleUpload=function(t){t.preventDefault();var a={image:e.state.image,prev:e.state.prev,name:e.state.name,price:e.state.price,quantity:e.state.quantity,color:e.state.color};b.post("product.json",a).then((function(t){window.location.reload(!0),e.setState({display:"none"})}))},e.handleImage=e.handleImage.bind(Object(u.a)(e)),e.handleForm=e.handleForm.bind(Object(u.a)(e)),e}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=(Boolean(this.anchorEl),{display:this.state.display,position:"fixed",border:"1px solid black",borderRadius:5,width:200,background:"white",right:30,top:10}),a={border:"1px solid black",cursor:"pointer"},n={marginBottom:10},i={background:"rgb(226, 224, 224)",textAlign:"left",width:"75%",padding:"12px 15px"};return r.a.createElement("div",null,r.a.createElement("input",{id:"hiddenFileInput",style:{display:"none"},type:"file",onChange:this.handleImage}),r.a.createElement("input",{id:"hiddenFileInput",style:{display:"none"},type:"file",onChange:this.handleImage}),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"90%",margin:"0 auto 15px"}},r.a.createElement(h.a,{onClick:this.handleClick,style:{border:"1px solid black"}},"Add product"),r.a.createElement(y.a,{noClick:!0,onDrop:function(t){e.handleDrop(t)}},(function(e){var t=e.getRootProps,a=e.getInputProps;return r.a.createElement("section",{style:i},r.a.createElement("div",t(),r.a.createElement("input",a()),"or drop your product here!"))}))),r.a.createElement("div",{style:{margin:"0 auto 15px",height:1,background:"black",width:"95%"}}),r.a.createElement("form",{style:t},r.a.createElement("h5",{style:{background:"rgb(66, 66, 66)",color:"white",width:"100%",margin:"0 0 15px",padding:"5px 0"}},"Product detail"),r.a.createElement("img",{src:this.state.prev,style:{height:70,width:120,borderRadius:5},alt:"item preview"}),r.a.createElement("br",null),r.a.createElement("input",{type:"text",style:n,onChange:function(t){return e.setState({name:t.target.value})},value:this.state.name,placeholder:"Name",name:"product name"}),r.a.createElement("br",null),r.a.createElement("input",{type:"text",style:n,onChange:function(t){return e.setState({quantity:t.target.value})},value:this.state.quantity,placeholder:"Quantity",name:"product quantity"}),r.a.createElement("br",null),r.a.createElement("input",{type:"text",style:n,onChange:function(t){return e.setState({price:t.target.value})},value:this.state.price,placeholder:"Price",name:"product price"}),r.a.createElement("br",null),r.a.createElement("input",{type:"text",style:n,onChange:function(t){return e.setState({color:t.target.value})},value:this.state.color,placeholder:"Color",name:"product color"}),r.a.createElement("div",{style:{display:"flex",width:"87%",margin:"0 auto",justifyContent:"space-between",padding:"15px 0"}},r.a.createElement("button",{onClick:this.handleUpload,type:"submit",style:a},"Save"),r.a.createElement("button",{style:a,onClick:this.handleClose},"Cancel"))))}}]),a}(r.a.Component),v=a(87),E=a(24),x=Object(v.a)({root:{margin:"0 15px 15px",background:"rgb(240, 240, 240)",borderRadius:5,padding:"20px 20px","& > p":{margin:0,textAlign:"left"}},itemHead:{textAlign:"center !important",marginBottom:"5px !important"},deleteBtn:{textAlign:"left","& > *":{border:"none",background:"none",padding:0,width:20,height:20,fontWeight:900}}}),k=function(e){var t=x(e);return r.a.createElement("div",{className:t.root},r.a.createElement("p",{className:t.itemHead},e.name),r.a.createElement("img",{src:e.prev,style:{height:70,width:120}}),r.a.createElement("p",null,"price: ",e.price),r.a.createElement("p",null,"quantity: ",0==e.quantity.length||"0"==e.quantity?"Out of order":e.quantity),r.a.createElement("p",null,"color: ",e.color),r.a.createElement("div",{className:t.deleteBtn},r.a.createElement("button",{onClick:e.delete},"x")))},w=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onDelete=function(e){b.delete("/product/"+e+".json").then((function(e){window.location.reload(!0)}))},n.onDelete=n.onDelete.bind(Object(u.a)(n)),n.state={items:[],search:""},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;b.get("/product.json").then((function(t){console.log("Get: ",t);var a=[];for(var n in t.data)a.push(Object(E.a)(Object(E.a)({},t.data[n]),{},{id:n}));e.setState({items:a})}))}},{key:"handleSearch",value:function(e){this.setState({search:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state.items.filter((function(t){return-1!==t.name.toLowerCase().indexOf(e.state.search)}));return r.a.createElement("div",{style:{position:"relative"}},r.a.createElement("input",{type:"search",onChange:this.handleSearch.bind(this),value:this.state.search,placeholder:"search product",style:{position:"absolute",width:"95%",borderRadius:10,marginBottom:30,top:-130,left:24}}),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",flexWrap:"wrap"}},t.map((function(t){return r.a.createElement(k,{key:t.id,prev:t.prev,name:t.name,price:t.price,quantity:t.quantity,color:t.color,delete:e.onDelete.bind(e,t.id)})}))))}}]),a}(n.Component),j=Object(v.a)((function(e){var t;return{root:{display:"flex",flexWrap:"wrap","& > *":(t={margin:e.spacing(1),width:"60%"},Object(o.a)(t,"margin","0 auto"),Object(o.a)(t,"minHeight",400),Object(o.a)(t,"padding","0 0 20px"),t)},pageHead:{backgroundColor:"rgb(66, 66, 66)",margin:"0 0 90px",padding:5,color:"#fff"},search:{focus:{outline:"none"}}}})),C=function(e){var t=j();return r.a.createElement("div",{className:t.root},r.a.createElement(c.a,null,r.a.createElement("h5",{className:t.pageHead},"Product list"),r.a.createElement(f,null),r.a.createElement(w,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[45,1,2]]]);
//# sourceMappingURL=main.2d9f45ab.chunk.js.map